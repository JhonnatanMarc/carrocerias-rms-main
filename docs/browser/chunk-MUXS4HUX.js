import{l as v,m as y}from"./chunk-FLO6WNV7.js";import{$a as p,Aa as b,Cb as d,Ia as w,P as l,Za as m,_a as c,ab as a,bb as o,ca as s,cb as g,ha as h,la as f,ua as r,ub as x}from"./chunk-HBLK3K2G.js";var I=(i,t)=>t.logo+"-2";function S(i,t){if(i&1&&(a(0,"div",6)(1,"div",7),g(2,"img",8),o()()),i&2){let e=t.$implicit;r(2),p("ngSrc",e.logo)("alt",e.name)}}function C(i,t){if(i&1&&(a(0,"div",6)(1,"div",7),g(2,"img",8),o()()),i&2){let e=t.$implicit;r(2),p("ngSrc",e.logo)("alt",e.name)}}var B=class i{zone=l(b);platformId=l(f);elementRef=l(h);intervalId;intersectionObserver;isVisible=s(!1);brands=s([{name:"Mercedes-Benz",logo:"/images/slider/marcas/mercedes-benz.png"},{name:"Volvo",logo:"/images/slider/marcas/volvo.png"},{name:"Volkswagen",logo:"/images/slider/marcas/volkswagen.png"},{name:"Iveco",logo:"/images/slider/marcas/iveco.png"},{name:"Isuzu",logo:"/images/slider/marcas/isuzu.png"},{name:"JMC",logo:"/images/slider/marcas/jmc_motor.png"},{name:"Toyota",logo:"/images/slider/marcas/toyota.png"}]);currentIndex=s(0);totalBrands=d(()=>this.brands().length);visibleBrands=s(5);slideWidth=d(()=>100/this.visibleBrands());duplicatedBrands=d(()=>[...this.brands(),...this.brands()]);ngOnInit(){v(this.platformId)&&(this.updateVisibleBrands(),window.addEventListener("resize",this.onResize.bind(this)),this.intersectionObserver=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&!this.isVisible()?(this.isVisible.set(!0),this.startAutoScroll()):!e.isIntersecting&&this.isVisible()&&(this.isVisible.set(!1),this.stopAutoScroll())})},{threshold:.1}),this.intersectionObserver.observe(this.elementRef.nativeElement))}ngOnDestroy(){this.stopAutoScroll(),v(this.platformId)&&(window.removeEventListener("resize",this.onResize.bind(this)),this.intersectionObserver?.disconnect())}updateVisibleBrands(){let t=window.innerWidth;t<640?this.visibleBrands.set(2):t<1024?this.visibleBrands.set(3):this.visibleBrands.set(5)}startAutoScroll(){this.stopAutoScroll(),this.intervalId=window.setInterval(()=>{this.zone.run(()=>{this.nextSlide()})},4e3)}stopAutoScroll(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}nextSlide(){this.stopAutoScroll(),this.currentIndex.update(t=>{let e=this.slideWidth(),n=e*this.totalBrands(),u=t+1;return u*e>=n?0:u}),this.startAutoScroll()}prevSlide(){this.stopAutoScroll(),this.currentIndex.update(t=>{let e=this.slideWidth(),n=e*this.totalBrands();return t===0?Math.floor(n/e)-1:t-1}),this.startAutoScroll()}onResize(){this.updateVisibleBrands()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=w({type:i,selectors:[["app-brands-carousel"]],decls:11,vars:0,consts:[[1,"w-full","py-12","md:py-16","lg:py-20","bg-base-100"],[1,"w-full","px-4","md:px-6","lg:px-8","max-w-7xl","mx-auto"],[1,"text-2xl","md:text-3xl","lg:text-4xl","font-bold","text-neutral","mb-8","md:mb-12","text-center"],[1,"relative"],[1,"overflow-hidden","w-full"],[1,"spin","flex","gap-2","md:gap-3","lg:gap-4","items-center"],[1,"shrink-0","w-full","sm:w-[calc(50%-0.375rem)]","md:w-[calc(33.333%-0.5rem)]","lg:w-[calc(20%-0.75rem)]","flex","items-center","justify-center","p-3","md:p-4","group"],[1,"relative","w-full","h-16","md:h-20","lg:h-24"],["fill","","sizes","(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 20vw","loading","lazy",1,"absolute","inset-0","w-full","h-full","object-contain","opacity-70","group-hover:opacity-100","transition-opacity","duration-300",3,"ngSrc","alt"]],template:function(e,n){e&1&&(a(0,"section",0)(1,"div",1)(2,"h2",2),x(3," Nuestras Marcas "),o(),a(4,"div",3)(5,"div",4)(6,"div",5),m(7,S,3,2,"div",6,I),m(9,C,3,2,"div",6,I),o()()()()()),e&2&&(r(7),c(n.brands()),r(2),c(n.brands()))},dependencies:[y],styles:["@keyframes _ngcontent-%COMP%_spin{0%{translate:0}to{translate:-100%}}.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 35s infinite linear}"],changeDetection:0})};export{B as BrandsCarouselComponent};
